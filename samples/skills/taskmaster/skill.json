{
  "skill_name": "taskmaster",
  "initial_state": "validate_prd",
  "states": {
    "validate_prd": {
      "type": "tool",
      "command": "test -f docs/prd.md",
      "next": "analyze_prd",
      "on_fail_prompt": "This project is missing the required PRD document (docs/prd.md). Please create it so I can break down the tasks."
    },
    "analyze_prd": {
      "type": "action_loop",
      "session_role": "taskmaster",
      "approval_mode": "yolo",
      "instruction": "@prompt.md",
      "verify_cmd": "tenazas work status",
      "next": "done"
    },
    "move_prd": {
      "type": "tool",
      "command": "mkdir -p docs/in-progress && mv docs/prd.md docs/in-progress/prd.md",
      "next": "done",
      "on_fail_prompt": "Can't move the PRD to the in-progress folder. Please check that the file exists and is not open in another program."
    },
    "done": { "type": "end" }
  }
}
